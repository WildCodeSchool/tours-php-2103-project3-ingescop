{% extends 'base.html.twig' %}

{% block title %}Panneau de configuration{% endblock %}

{% block pageContainer %}
    {% block flashMessage %}
        {% for message in app.flashes('notice') %}
                    {{ message }}
        {% endfor %}
    {% endblock %}
    <h1>Panneau de configuration</h1>
    <table class="table">
    <h1>Liste des services</h1>
    <table class="table">
    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Catégorie</th>
                <th>Service</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
    {% for service in services %}
            <tr>
                <td>{{ service.id }}</td>
                <td>{{ service.name }}</td>
                <td>{{ service.category }}</td>
                <td>
                    <a href="{{ path("admin_editservice", {"id": service.id}) }}">Editer</a>
                    <a href="{{ path("services_show", {"id": service.id}) }}">Voir</a>
                </td>
            </tr>
    {% endfor %}
        </tbody>
    </table>
    <a href="{{ path("admin_newservice") }}"> Créer un service</a>
    <h1>Liste des professionnels</h1>
    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Métier</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>

    {% for professionnal in pro %}
            <tr>
                <td>{{ professionnal.id }}</td>
                <td>{{ professionnal.name }}</td>
                <td>{{ professionnal.job }}</td>
                <td>
                    <a href="{{ path("admin_editpro", {"id": professionnal.id}) }}">Éditer</a>
                    <a href="{{ path("professionnal_show", {"id": professionnal.id}) }}">Voir</a>
                </td>
            </tr>
    {% endfor %}
        </tbody>
    </table>
    <a href="{{ path("admin_newpro") }}">Créer un professionnel</a>

    <h1>Liste des références</h1>
    <table>
        <thead>
            <tr>
                <th>EntryDate</th>
                <th>Note</th>
                <th>Lieu</th>
                <th>Client</th>
                <th>Mission Ingescop</th>
                <th>Budget</th>
                <th>Calendrier</th>
                <th>État du projet</th>
                <th>En bref</th>
                <th>Points forts</th>
                <th>Images</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for project in projects %}
            <tr>
                <td>{{ project.id }}</td>
                <td>{{ project.name }}</td>
                <td>{{ project.entryDate ? project.entryDate|date('Y-m-d') : '' }}</td>
                <td>{{ project.note }}</td>
                <td>{{ project.place }}</td>
                <td>{{ project.client }}</td>
                <td>{{ project.missionIngescop }}</td>
                <td>{{ project.budget }}</td>
                <td>{{ project.calendar }}</td>
                <td>{{ project.workInProgress }}</td>
                <td>{{ project.resume }}</td>
                <td>{{ project.strongPoints }}</td>
                <td>
                    <a href="{{ path('reference_show', {id: project.id}) }}">Voir le projet</a>
                    <a href="{{ path('admin_editproject', {'id': project.id}) }}">Éditer le projet</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="16">Pas d'enregistrements trouvés</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('admin_newproject') }}">Créer un nouveau projet</a>

    <h1>Listes des partenaires</h1>
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Logo</th>
            </tr>
        </thead>
        <tbody>
        {% for partner in partners %}
            <tr>
                <td>{{ partner.id }}</td>
                <td>{{ partner.name }}</td>
                <td>{{ partner.logo }}</td>
                <td>
                    <a href="{{ path('home') }}">Voir</a>
                    <a href="{{ path('admin_partner_edit', {'id': partner.id}) }}">Éditer</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4">pas d'enregistrements trouvés</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('admin_partner_new') }}">Create un nouveau partenaire</a>
{% endblock %}
